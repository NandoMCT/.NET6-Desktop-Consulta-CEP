using System.Collections.Generic;

internal class Program
{
    private static void Main(string[] args)
    {
        HttpClient client = null;
        Uri buscaUri;

        if (client == null)
        {
            client = new HttpClient();
            client.BaseAddress = new Uri("https://viacep.com.br/ws/");
            client.DefaultRequestHeaders.Accept.Add(new System.Net.Http.Headers.MediaTypeWithQualityHeaderValue("application/json"));
        }

        HttpResponseMessage response = client.GetAsync("08240680/json").Result;
        if (response.IsSuccessStatusCode)
        {
            buscaUri = response.Headers.Location;

            char[] charsToTrim = { ',', ' ' , '\'' , '"' };

            var result = response.Content.ReadAsStringAsync().Result;

            String[] splitResult = result.Split('\n');

            String cep = splitResult[1].Split(":")[1];

            String cepTrimmed = cep.Trim(charsToTrim);

            Console.WriteLine(cepTrimmed);
            
            
        }
    }
}